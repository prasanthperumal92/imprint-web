<div>
  <header title="Protocol Analytics"></header>
  <br>
  <app-status *ngIf="leadChart" [id]="leadChart.id" [title]="leadChart.title" [description]="leadChart.description"
    [xAxisName]="leadChart.xAxisName" [yAxisName]="leadChart.yAxisName" [type]="leadChart.type"></app-status>
  <app-status *ngIf="salesChart" [id]="salesChart.id" [title]="salesChart.title" [description]="salesChart.description"
    [xAxisName]="salesChart.xAxisName" [yAxisName]="salesChart.yAxisName" [type]="salesChart.type"></app-status>  
  <app-status *ngIf="productChart" [id]="productChart.id" [title]="productChart.title" [description]="productChart.description"
    [xAxisName]="productChart.xAxisName" [yAxisName]="productChart.yAxisName" [type]="productChart.type"></app-status>
  <!--
  <div class="container">
    <div class="row">
      <div class="col-12 col-grid" id="monthlyLeadBox">
        <div class="col-sm-12 whiteBox">
          <div>
            <div ngbDropdown class="headRow">
              <p class="col-sm-6 textLeft bold">My Monthly Lead Status <i class="fa fa-question-circle-o" aria-hidden="true"
                  placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of leads may happen or happened this month"></i>
              </p>
              <div class="col-sm-6 textRight" *ngIf="monthlyLeadData">
                <button class="noBtn">&nbsp; &nbsp;<i class="fa fa-ellipsis-v" aria-hidden="true" ngbDropdownToggle>&nbsp;&nbsp;&nbsp;&nbsp;</i>
                </button>
                <div ngbDropdownMenu>
                  <button class="dropdown-item" (click)="downloadImage('monthlyLeadBox')">Download Image</button>
                  <button class="dropdown-item" (click)="showData('Current Month')">Show Data</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="monthlyLeadData">
            <div id="montlyLead" class="d3-chart" #montlyLead></div>
            <app-piechart (valueClicked)="openModal(modal, $event)" [element]="montlyLead" [data]="monthlyLeadData"
              [xAxisName]="'Count'" [yAxisName]="'Activity'"></app-piechart>
          </div>
          <div *ngIf="!monthlyLeadData">
            <p class="notAvailable">Not Available</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="container" *ngIf="profile.employee.type !== 'manager'">
    <div class="row">
      <div class="col-12 col-grid" id="dailyChartBox">
        <div class="col-sm-12 whiteBox">
          <div>
            <div ngbDropdown class="headRow">
              <p class="col-sm-6 textLeft bold">My Daily Update <i class="fa fa-question-circle-o" aria-hidden="true"
                  placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of various activities you have completed today."></i>
              </p>
              <div class="col-sm-6 textRight" *ngIf="dailyChartData">
                <button class="noBtn">&nbsp; &nbsp;<i class="fa fa-ellipsis-v" aria-hidden="true" ngbDropdownToggle>&nbsp;&nbsp;&nbsp;&nbsp;</i>
                </button>
                <div ngbDropdownMenu>
                  <button class="dropdown-item" (click)="downloadImage('dailyChartBox')">Download Image</button>
                  <button class="dropdown-item" (click)="showData('Today')">Show Data</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="dailyChartData">
            <div id="dailyChart" class="d3-chart" #dailyChart></div>
            <app-piechart (valueClicked)="openModal(modal, $event)" [element]="dailyChart" [data]="dailyChartData"
              [xAxisName]="'Count'" [yAxisName]="'Activity'"></app-piechart>
          </div>
          <div *ngIf="!dailyChartData">
            <p class="notAvailable">Not Available</p>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-12-grid" id="weeklyChartBox">
        <div class="col-sm-12 whiteBox">
          <div>
            <div ngbDropdown class="headRow">
              <p class="col-sm-6 textLeft bold">My Weekly Update <i class="fa fa-question-circle-o" aria-hidden="true"
                  placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of various activities you have completed this week."></i>
              </p>
              <div class="col-sm-6 textRight" *ngIf="weeklyChartData">
                <button class="noBtn">&nbsp; &nbsp;<i class="fa fa-ellipsis-v" aria-hidden="true" ngbDropdownToggle>&nbsp;&nbsp;&nbsp;&nbsp;</i>
                </button>
                <div ngbDropdownMenu>
                  <button class="dropdown-item" (click)="downloadImage('weeklyChartBox')">Download Image</button>
                  <button class="dropdown-item" (click)="showData('Current Week')">Show Data</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="weeklyChartData">
            <div id="weeklyChart" class="d3-chart" #weeklyChart></div>
            <app-barchart [element]="weeklyChart" [data]="weeklyChartData" [yAxisName]="'Activity'" [xAxisName]="'Count'"></app-barchart>
          </div>
          <div *ngIf="!weeklyChartData" class="notAvailable">
            <p>Not Available</p>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-grid" id="monthlyChartBox">
        <div class="col-sm-12 whiteBox">
          <div>
            <div ngbDropdown class="headRow">
              <p class="col-sm-6 textLeft bold">My Monthly Update <i class="fa fa-question-circle-o" aria-hidden="true"
                  placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of various activities you have completed this month."></i>
              </p>
              <div class="col-sm-6 textRight" *ngIf="monthlyChartData">
                <button class="noBtn">&nbsp; &nbsp;<i class="fa fa-ellipsis-v" aria-hidden="true" ngbDropdownToggle>&nbsp;&nbsp;&nbsp;&nbsp;</i>
                </button>
                <div ngbDropdownMenu>
                  <button class="dropdown-item" (click)="downloadImage('monthlyChartBox')">Download Image</button>
                  <button class="dropdown-item" (click)="showData('Current Month')">Show Data</button>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="monthlyChartData">
            <div id="monthlyChart" class="d3-chart" #monthlyChart></div>
            <app-barchart [element]="monthlyChart" [data]="monthlyChartData" [xAxisName]="'Count'" [yAxisName]="'Activity'"></app-barchart>
          </div>
          <div *ngIf="!monthlyChartData">
            <p class="notAvailable">Not Available</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  <br>
  <div *ngIf="profile.employee.type !== 'employee'">
    <div class="container">
      <div class="row">
        <div class="col-12 col-grid">
          <div class="col-sm-12">
            <h5>My Teams Data</h5>
            <p>{{ fromDate | date: 'mediumDate' }} - {{toDate | date: 'mediumDate' }}</p>
            <div *ngFor="let item of filters; let i = index">
              <button class="btn btn-secondary btn-sm float-left filerItem" [class.active]="item.selected" (click)="selected(item.label)"
                title={{item.label}}>{{item.label}}</button>
              <div *ngIf="item.name === 'Custom' && show" #datepicker id="datepicker" style="color: #000000">
                <datepicker (change)="calendarData($event)"></datepicker>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="container" *ngIf="!teamData || teamData.length === 0">
      <div class="row">
        <div class="col-12 col-12-grid" style="padding: 0px !important;">
          <div class="col-sm-12 whiteBox">
            <div>
              <div ngbDropdown class="headRow">
                <p class="col-sm-6 textLeft bold">Team Data<i class="fa fa-question-circle-o" aria-hidden="true"
                    placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of various activities have completed in this
                  team for {{selectedFilter}}."></i>
                </p>
                <div class="col-sm-6 textRight">
                </div>
              </div>
              <div class="notAvailable">
                <p>Not Available</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <br><br>
    <div class="container" *ngIf="teamData || teamData.length > 0">
      <div class="row" *ngFor="let team of teamData; let i = index;">
        <div class="col-12 col-12-grid" style="padding: 0px !important;" id="mychart{{i}}">
          <div class="col-sm-12 whiteBox">
            <div>
              <div ngbDropdown class="headRow">
                <p class="col-sm-6 textLeft bold">{{team.title}} <i class="fa fa-question-circle-o" aria-hidden="true"
                    placement="bottom" triggers="mouseenter:mouseleave" ngbPopover="Number of various activities have completed in this
                  team for {{selectedFilter}}."></i>
                </p>
                <div class="col-sm-6 textRight">
                  <button class="noBtn">&nbsp; &nbsp;<i class="fa fa-ellipsis-v" aria-hidden="true" ngbDropdownToggle>&nbsp;&nbsp;&nbsp;&nbsp;</i>
                  </button>
                  <div ngbDropdownMenu>
                    <button class="dropdown-item" (click)="downloadImage('mychart' + i)">Download Image</button>
                    <button class="dropdown-item" (click)="showData('team', team.id)">Show Data</button>
                  </div>
                </div>
              </div>
              <div *ngIf="team">
                <div class="d3-chart" [ngClass]="'mychart' + i"></div>
                <app-multibarstacked [element]="getElement('mychart' + i)" [data]="team" [yAxisName]="'Activity'"
                  [xAxisName]="'Count'"></app-multibarstacked>
              </div>
              <div class="notAvailable" *ngIf="!team">
                <p>Not Available</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<ng-template #modal let-modal>
  <div style="width:100%; display: inline-flex; padding: 5px;" (click)="closeModal()">
    <h5>Details</h5>
    <span class="closeBtn">X</span>
  </div>

  <table class="table table-bordered">
    <thead>
      <tr>
        <th class="thead" scope="col" *ngFor="let column of columnNames" sortable="name">{{column | uppercase }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let item of selectedData; index as i">
        <td *ngFor="let column of columnNames">{{ item[column] | custom }}</td>
      </tr>
    </tbody>
  </table>
</ng-template> -->
